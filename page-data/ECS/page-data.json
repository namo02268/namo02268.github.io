{"componentChunkName":"component---src-templates-page-jsx","path":"/ECS","result":{"data":{"mdx":{"frontmatter":{"title":"ECS","date":"2022/03/04","description":"The magic of paint brush and a a little coffee"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"ECS\",\n  \"date\": \"2022-03-04T00:00:00.000Z\",\n  \"published\": true,\n  \"tags\": [\"C++\"],\n  \"cover_image\": \"eftakher-alam-i1VQZsU86ok-unsplash.jpg\",\n  \"description\": \"The magic of paint brush and a a little coffee\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"ECS\\u306B\\u3064\\u3044\\u3066\"), mdx(\"p\", null, \"\\u30B2\\u30FC\\u30E0\\u30A8\\u30F3\\u30B8\\u30F3\\u306E\\u30D9\\u30FC\\u30B9\\u90E8\\u5206\\u306B\\u306F\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Entity_component_system\"\n  }), \"ECS (Entity Component System)\"), \"\\u3092\\u63A1\\u7528\\u3057\\u3066\\u3044\\u307E\\u3059\\u3002ECS\\u3068\\u306F\\u3001\\u30B2\\u30FC\\u30E0\\u958B\\u767A\\u306B\\u304A\\u3044\\u3066\\u3088\\u304F\\u4F7F\\u7528\\u3055\\u308C\\u308B\\u30A2\\u30FC\\u30AD\\u30C6\\u30AF\\u30C1\\u30E3\\u30D1\\u30BF\\u30FC\\u30F3\\u306E\\u4E00\\u3064\\u3067\\u3001Entity\\u30FBComponent\\u30FBSystem\\u306E3\\u8981\\u7D20\\u304B\\u3089\\u69CB\\u6210\\u3055\\u308C\\u307E\\u3059\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Entity\\uFF1A\\u30D7\\u30EC\\u30A4\\u30E4\\u30FC\\u3084\\u6575\\u306A\\u3069\\u306E\\u30B2\\u30FC\\u30E0\\u30AA\\u30D6\\u30B8\\u30A7\\u30AF\\u30C8\\u3092\\u8868\\u73FE\\u3057\\u307E\\u3059\\u3002\\u901A\\u5E38\\u30E6\\u30CB\\u30FC\\u30AF\\u306AID\\u306E\\u307F\\u3067\\u69CB\\u6210\\u3055\\u308C\\u307E\\u3059\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Component\\uFF1AEntity\\u306E\\u6319\\u52D5\\u3084\\u7279\\u6027\\u3092\\u8868\\u3059\\u751F\\u306E\\u30C7\\u30FC\\u30BF\\u3067\\u3059\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"System\\uFF1A\\u5404\\u30B3\\u30F3\\u30DD\\u30FC\\u30CD\\u30F3\\u30C8\\u306B\\u5BFE\\u3057\\u3066\\u5B9F\\u969B\\u306E\\u51E6\\u7406\\u3092\\u65BD\\u3057\\u307E\\u3059\\u3002\"))), mdx(\"p\", null, \"\\u4F8B\\u3092\\u6319\\u3052\\u308B\\u3068\\u3001\\u30D7\\u30EC\\u30A4\\u30E4\\u30FC\\uFF08Entity\\uFF09\\u304C\\u3001HP\\uFF08Component\\uFF09\\u3092\\u4FDD\\u6301\\u3057\\u3066\\u3044\\u3066\\u3001\\u6575\\u304B\\u3089\\u653B\\u6483\\u3092\\u53D7\\u3051\\u305F\\u306E\\u3067\\u30C0\\u30E1\\u30FC\\u30B8\\u30B7\\u30B9\\u30C6\\u30E0\\uFF08System\\uFF09\\u304C\\u30D7\\u30EC\\u30A4\\u30E4\\u30FC\\uFF08Entity\\uFF09\\u306EHP\\uFF08Component\\uFF09\\u3092\\u6E1B\\u3089\\u3059\\u3068\\u3044\\u3063\\u305F\\u5177\\u5408\\u3067\\u3059\\u3002\"), mdx(\"p\", null, \"\\u4EE5\\u4E0B\\u306F\\u5B9F\\u969B\\u306B\\u79C1\\u304CC++\\u3067\\u4F5C\\u6210\\u3057\\u305FECS\\u306E\\u8AAC\\u660E\\u306B\\u306A\\u308A\\u307E\\u3059\\u3002\"), mdx(\"h2\", null, \"Entity\\u306E\\u4F5C\\u6210\\u3068Component\\u306E\\u8FFD\\u52A0\"), mdx(\"p\", null, \"\\u4F5C\\u6210\\u3057\\u305FEntity\\u3092\\u30AD\\u30FC\\u306B\\u3057\\u3066Scene\\u304B\\u3089\\u4EFB\\u610F\\u306EComponent\\u3092\\u8FFD\\u52A0\\u3067\\u304D\\u307E\\u3059\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"cpp\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"cobalt\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"// Entity\\u306E\\u4F5C\\u6210\\nauto entity = scene.createEntity();\\n// Component\\u306E\\u8FFD\\u52A0\\nscene.addComponent<TransformComponent>(entity);\\nscene.addComponent<MaterialComponent>(entity);\"), \"\\n        \"), mdx(\"h2\", null, \"System\\u306E\\u8FFD\\u52A0\"), mdx(\"p\", null, \"Scene\\u306B\\u4EFB\\u610F\\u306ESysem\\u3092\\u8FFD\\u52A0\\u3057\\u307E\\u3059\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"cpp\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"cobalt\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"// \\u30EC\\u30F3\\u30C0\\u30E9\\u30FC\\u3092Scene\\u306B\\u8FFD\\u52A0\\nauto renderer = std::make_unique<Renderer>();\\nscene.addSystem(std::move(renderer));\"), \"\\n        \"), mdx(\"p\", null, \"\\u5404System\\u306B\\u306F\\u3042\\u3089\\u304B\\u3058\\u3081\\u3001\\u6CE8\\u76EE\\u3057\\u305F\\u3044Component\\u3092\\u8A2D\\u5B9A\\u3057\\u3066\\u304A\\u304F\\u3053\\u3068\\u304C\\u3067\\u304D\\u307E\\u3059\\u3002\\u8A72\\u5F53\\u3059\\u308BComponent\\u3092\\u5168\\u3066\\u6240\\u6301\\u3059\\u308BEntity\\u306F\\u3001\\u81EA\\u52D5\\u3067System\\u306E\\u30E1\\u30F3\\u30D0\\u306B\\u767B\\u9332\\u3055\\u308C\\u307E\\u3059\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"cpp\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"cobalt\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"//--------------------\\u30B7\\u30B9\\u30C6\\u30E0\\u30AF\\u30E9\\u30B9--------------------//\\nclass System{\\n  // \\u5FC5\\u8981\\u30B3\\u30F3\\u30DD\\u30FC\\u30CD\\u30F3\\u30C8\\u306Ebit\\u914D\\u5217\\n  std::bitset<MAX_COMPONENTS_FAMILY>  m_requiredComponent;\\n};\\n\\n//-------------------\\u30EC\\u30F3\\u30C0\\u30E9\\u30FC\\u30AF\\u30E9\\u30B9-------------------//\\nclass Renderer : public System {\\n  // \\u30B3\\u30F3\\u30B9\\u30C8\\u30E9\\u30AF\\u30BF\\n  Renderer() {\\n    // Transform Component\\u3092\\u8A2D\\u5B9A\\n    auto family = getComponentTypeID<TransformComponent>();\\n    m_requiredComponent[family] = true;\\n    // Mesh Component\\u3092\\u8A2D\\u5B9A\\n    family = getComponentTypeID<MeshComponent>();\\n    m_requiredComponent[family] = true;\\n    // Material Component\\u3092\\u8A2D\\u5B9A\\n    family = getComponentTypeID<MaterialComponent>();\\n    m_requiredComponent[family] = true;\\n  }\\n};\"), \"\\n        \"), mdx(\"p\", null, \"\\u3042\\u3068\\u306F\\u30E1\\u30F3\\u30D0\\u306EEntity\\u914D\\u5217\\u306B\\u5BFE\\u3057\\u3066\\u884C\\u3044\\u305F\\u3044\\u51E6\\u7406\\u3092\\u8A18\\u8FF0\\u3059\\u308B\\u3060\\u3051\\u3067\\u3059\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"cpp\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"cobalt\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"//-------------------\\u30EC\\u30F3\\u30C0\\u30E9\\u30FC\\u30AF\\u30E9\\u30B9-------------------//\\nclass Renderer : public System {\\n  // \\u521D\\u671F\\u5316\\u51E6\\u7406\\n  void init() {\\n    for (auto& e : m_entityArray) {\\n    }\\n  }\\n  // \\u66F4\\u65B0\\u51E6\\u7406\\n  void update(float dt) {\\n    for (auto& e : m_entityArray) {\\n    }\\n  }\\n  // \\u63CF\\u753B\\u51E6\\u7406\\n  void draw() {\\n    for (auto& e : m_entityArray) {\\n    }\\n  }\\n}\"), \"\\n        \"), mdx(\"h2\", null, \"Event Handler\"), mdx(\"p\", null, \"Event Handler\\u306F\\u5404System\\u540C\\u58EB\\u304C\\u3084\\u308A\\u53D6\\u308A\\u3059\\u308B\\u305F\\u3081\\u306E\\u624B\\u6BB5\\u3067\\u3059\\u3002\\u9001\\u4FE1\\u5074\\u306E\\u30AF\\u30E9\\u30B9(\\u3053\\u3053\\u3067\\u306FCollisionSystem)\\u306F\\u3001\\u4EFB\\u610F\\u306E\\u30BF\\u30A4\\u30DF\\u30F3\\u30B0\\u3067Event Handlder\\u306B\\u5BFE\\u3057\\u3001\\u30A4\\u30D9\\u30F3\\u30C8\\u3092\\u9001\\u4FE1\\u3057\\u307E\\u3059\\u3002\\u4E00\\u65B9\\u3001\\u53D7\\u4FE1\\u5074\\u306E\\u30AF\\u30E9\\u30B9(\\u3053\\u3053\\u3067\\u306FRenderer)\\u3067\\u306F\\u3001\\u521D\\u671F\\u5316\\u6642\\u306B\\u547C\\u3073\\u51FA\\u3057\\u305F\\u3044\\u30E1\\u30F3\\u30D0\\u95A2\\u6570\\u3092EventHandler\\u306B\\u767B\\u9332\\u3057\\u3066\\u304A\\u304D\\u307E\\u3059\\u3002\\u3053\\u308C\\u306B\\u3088\\u3063\\u3066\\u3001EventHandler\\u304C\\u9001\\u4FE1\\u5074\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u3092\\u53D7\\u3051\\u53D6\\u3063\\u305F\\u30BF\\u30A4\\u30DF\\u30F3\\u30B0\\u3067\\u3001\\u53D7\\u4FE1\\u5074\\u306E\\u30E1\\u30F3\\u30D0\\u95A2\\u6570\\u3092\\u9069\\u5207\\u306B\\u547C\\u3073\\u51FA\\u3057\\u3066\\u304F\\u308C\\u307E\\u3059\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"cpp\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"cobalt\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"//-------------------\\u30B3\\u30EA\\u30B8\\u30E7\\u30F3\\u30AF\\u30E9\\u30B9-------------------//\\nclass CollisionSystem : public System {\\n  void update(float dt) {\\n    if(Collision) {\\n      // \\u30A4\\u30D9\\u30F3\\u30C8\\u3092\\u9001\\u4FE1\\n      CollisionEvent event;\\n      m_eventHandler->publish(&event);\\n    }\\n  }\\n}\\n\\n//-------------------\\u30EC\\u30F3\\u30C0\\u30E9\\u30FC\\u30AF\\u30E9\\u30B9-------------------//\\nclass Renderer : public System {\\n  void init() {\\n    // Event Handler\\u306B\\u30E1\\u30F3\\u30D0\\u95A2\\u6570\\u3092\\u767B\\u9332\\n    m_eventHandler->subscribe(this, &Renderer::onCollisionEvent);\\n  }\\n\\n  // \\u30A4\\u30D9\\u30F3\\u30C8\\u53D7\\u4FE1\\u6642\\u306B\\u547C\\u3073\\u51FA\\u3057\\u305F\\u3044\\u95A2\\u6570\\n  void onCollisionEvent(CollisionEvent* collision) {\\n  }\\n};\\n\"), \"\\n        \"), mdx(\"h2\", null, \"\\u53C2\\u8003\\u6587\\u732E\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://zenn.dev/rita0222/articles/c22a8367e31b4d5f4eeb\"\n  }), \"\\u53E4\\u5178\\u7684\\u30B2\\u30FC\\u30E0\\u30EB\\u30FC\\u30D7\\u304B\\u3089ECS\\u30A2\\u30FC\\u30AD\\u30C6\\u30AF\\u30C1\\u30E3\\u307E\\u3067\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://tech.cygames.co.jp/archives/2843/\"\n  }), \"Cygames Engineers' Blog \\u30C7\\u30FC\\u30BF\\u6307\\u5411\\u8A2D\\u8A08\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://savas.ca/nomad\"\n  }), \"Nomad Game Engine\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gamedev.net/articles/programming/general-and-gameplay-programming/effective-event-handling-in-c-r2459/\"\n  }), \"Effective Event Handling in C++\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"title":"ECS"}}}